html {
  touch-action     : manipulation;
}

body {
  background-color : #E1DAC3;
  font-size        : 20px;
  display          : flex;
  flex-direction   : column;
  align-items      : center;
  font-family      : "Hiragino Maru Gothic ProN", "Meiryo", sans-serif;
  user-select      : none;
  margin           : 0;
  min-height       : 100vh;
  padding          : 16px 12px 32px;
}

h2 {
  margin           : 0;
}

.view {
  width            : 100%;
  max-width        : 420px;
  display          : flex;
  flex-direction   : column;
  align-items      : center;
  text-align       : center;
}

.hidden {
  display          : none !important;
}

.app-title {
  margin           : 0;
  font-size        : 40px;
  letter-spacing   : 0.15em;
  font-family      : "Yu Mincho", "Hiragino Mincho ProN", "Sawarabi Mincho", serif;
  text-shadow      : 0 2px 4px rgba(0, 0, 0, 0.2);
}

.time-panel {
  width            : 100%;
  border           : 2px solid #336633;
  border-radius    : 8px;
  padding          : 16px;
  background-color : rgba(255, 255, 255, 0.8);
  margin-top       : 16px;
  max-width        : 320px;
}

.time-panel-title {
  margin           : 0 0 10px;
  font-size        : 22px;
  text-align       : left;
  color            : #1f3a1f;
}

.time-history {
  list-style       : none;
  width            : 100%;
  margin           : 0;
  padding          : 0;
}

.time-entry,
.time-history-empty {
  padding          : 8px 0;
  border-bottom    : 1px solid rgba(51, 102, 51, 0.2);
  display          : flex;
  justify-content  : space-between;
  align-items      : center;
  font-size        : 18px;
}

.time-entry:last-child,
.time-history-empty:last-child {
  border-bottom    : none;
}

.time-entry-label {
  font-weight      : bold;
  color            : #2b2b2b;
}

.time-entry-value {
  color            : #003300;
}

.time-history-empty {
  justify-content  : center;
  color            : #555555;
}

.time-row {
  display          : flex;
  justify-content  : space-between;
  align-items      : center;
  margin-bottom    : 8px;
}

.time-row:last-child {
  margin-bottom    : 0;
}

.time-label {
  font-weight      : bold;
  color            : #333333;
}

.time-value {
  font-size        : 28px;
  color            : #003300;
}

.info-text {
  font-size        : 28px;
  margin           : 0;
  color            : #333333;
}

#image-container {
  width            : 300px;
  height           : auto;
  display          : flex;
  align-items      : center;
  justify-content  : center;
  overflow         : hidden;
}

img {
  max-width        : 100%;
  max-height       : 100%;
  transform-origin : center;
  cursor           : pointer;
}

.button-container {
  padding-top      : 10px;
  width            : 100%;
  display          : flex;
  justify-content  : center;
}

button {
  color            : #FFFFFF;
  background-color : #336633;
  border           : none;
  border-radius    : 0.3rem;
  font-size        : medium;
  width            : 100%;
  max-width        : 320px;
  padding          : 0.5rem 1rem;
  font-size        : 24px;
  cursor           : pointer;
}

button.secondary {
  background-color : #5A6B5A;
}

button.secondary.all-on-button {
  background-color : #336633;
}

button.secondary.danger {
  background-color : #8C3A3A;
}

button:disabled {
  background-color : #9E9E9E;
  cursor           : not-allowed;
}

#kimariji {
  font-size        : 48px;
  font-weight      : bold;
  color            : #cc0000;
  margin           : 0;
  display          : none;
}

.modal-overlay {
  position         : fixed;
  top              : 0;
  left             : 0;
  width            : 100%;
  height           : 100%;
  background-color : rgba(0, 0, 0, 0.4);
  z-index          : 10;
}

.modal {
  position         : fixed;
  top              : 50%;
  left             : 50%;
  transform        : translate(-50%, -50%);
  width            : min(90vw, 480px);
  max-height       : 90vh;
  z-index          : 20;
}

.modal-content {
  background-color : #fff;
  border-radius    : 12px;
  padding          : 12px 16px 16px;
  box-shadow       : 0 8px 24px rgba(0, 0, 0, 0.2);
  display          : flex;
  flex-direction   : column;
  max-height       : 90vh;
}

.modal-header {
  display          : flex;
  justify-content  : space-between;
  align-items      : center;
}

.icon-button {
  width            : 40px;
  height           : 40px;
  background       : transparent;
  border           : none;
  color            : #333;
  font-size        : 32px;
  cursor           : pointer;
}

.modal-description {
  margin           : 6px 0 12px;
  text-align       : left;
}

.modal-footer {
  margin-top       : 12px;
  display          : flex;
  flex-direction   : column;
  gap              : 8px;
  width            : 100%;
}

#settings-list {
  overflow-y       : auto;
  padding-right    : 2px;
  width            : 100%;
}

.settings-group {
  margin-bottom    : 12px;
  text-align       : left;
}

.settings-group h3 {
  margin           : 4px 0 8px;
  font-size        : 18px;
}

.settings-grid {
  display          : grid;
  grid-template-columns: repeat(auto-fill, minmax(56px, 1fr));
  gap              : 6px;
}

.toggle-button {
  border           : 2px solid #336633;
  border-radius    : 10px;
  background-color : rgba(255, 255, 255, 0.95);
  color            : #333333;
  font-size        : 20px;
  font-weight      : bold;
  padding          : 10px 0;
  cursor           : pointer;
  transition       : background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  width            : 100%;
  max-width        : none;
}

.toggle-button.letter-button {
  min-height       : 52px;
  display          : flex;
  align-items      : center;
  justify-content  : center;
  font-size        : 24px;
}

.toggle-button.bundle-button {
  margin-bottom    : 4px;
  font-size        : 18px;
  letter-spacing   : 0.05em;
}

.toggle-button.active {
  background-color : #336633;
  color            : #FFFFFF;
  border-color     : #224422;
}

.toggle-button:focus-visible {
  outline          : 3px solid rgba(51, 102, 51, 0.4);
  outline-offset   : 2px;
}

@media (max-width: 480px) {
  .modal {
    width          : 94vw;
  }

  .toggle-button.letter-button {
    min-height     : 48px;
    font-size      : 22px;
  }

  .toggle-button.bundle-button {
    font-size      : 16px;
    padding        : 8px 6px;
  }
}

@media (min-width: 481px) {
  .modal-footer {
    flex-direction : row;
  }
}
